<!DOCTYPE html>
<html lang="en">
        <head>
                <meta charset="utf-8">
                <title>D3: Setting div heights from data</title>
                <script src="../d3/d3.v3.min.js" charset="utf-8"></script>
                <script type="text/javascript" src="./d3/d3.csv.js" charset="utf-8"></script>
                <style type="text/css">
                </style>
        </head>
        <body>
        <div id='vis'>

        <script type="text/javascript">

                        console.log("Hello!");
                        var dataset = [],
                                tmpDataset = [],
                                i, j;

                        for (i = 0; i < 5; i++) {
                            for (j = 0, tmpDataset = []; j < 3; j++) {
                                tmpDataset.push("Row:"+i+",Col:"+j);
                            }
                            dataset.push(tmpDataset);
                        }
                        // d3.select("#viz")
                        d3.select("body").selectAll("div")
                            .append("table")
                            .style("border-collapse", "collapse")
                            .style("border", "2px black solid")
                            
                            .selectAll("tr")
                            .data(dataset)
                            .enter().append("tr")
                            
                            .selectAll("td")
                            .data(function(d){return d;})
                            .enter().append("td")
                            .style("border", "1px black solid")
                            .style("padding", "10px")
                            .on("mouseover", function(){d3.select(this).style("background-color", "aliceblue")}) 
                            .on("mouseout", function(){d3.select(this).style("background-color", "blue")}) 
                            .text(function(d){return d;})
                            .style("font-size", "12px");
                        console.log("Done!")

                        d3.text("auto_mpg_tmp.csv", function(datasetText) {

                        var parsedCSV = d3.csv.parseRows(datasetText);

                        var sampleHTML = d3.select("body").selectAll("div")
                            .append("table")
                            .style("border-collapse", "collapse")
                            .style("border", "2px black solid")

                            .selectAll("tr")
                            .data(parsedCSV)
                            .enter().append("tr")

                            .selectAll("td")
                            .data(function(d){return d;})
                            .enter().append("td")
                            .style("border", "1px black solid")
                            .style("padding", "5px")
                            .on("mouseover", function(){d3.select(this).style("background-color", "brown")})
                            .on("mouseout", function(){d3.select(this).style("background-color", "pink")})
                            .text(function(d){return d;})
                            .style("font-size", "12px");
                        });

                        //Add my scrpting to the overall viualization tool using d3
                        d3.text("myinfo.csv", function(datasetText) {

                         var parsedCSV = d3.csv.parseRows(datasetText);

                        var sampleHTML = d3.select("body").selectAll("div")
                            .append("table")
                            .style("border-collapse", "collapse")
                            .style("border", "2px black solid")

                            .selectAll("tr")
                            .data(parsedCSV)
                            .enter().append("tr")

                            .selectAll("td")
                            .data(function(d){return d;})
                            .enter().append("td")
                            .style("border", "1px black solid")
                            .style("padding", "5px")
                            .on("mouseover", function(){d3.select(this).style("background-color", "brown")})
                            .on("mouseout", function(){d3.select(this).style("background-color", "yellow")})
                            .text(function(d){return d;})
                            .style("font-size", "12px");
                        });

        </script>

         <script id="csv" type="text/csv">Name,Population (mill),Average Life Expectancy,Area (1000 sq mi),Continent
                Canada,33.9,80.7,3854.085,America
                US,308.3,78.2,3784.191,America
                Germany,82.3,79.4,137.847,Europe
                Russia,141.9,65.5,6601.668,Europe
                Mexico,108.4,76.06,758.449,America
                Brazil,193.3,71.99,3287.612,America
                Spain,46.9,80.9,195.365,Europe
                France,65.4,80.98,244.339,Europe
                China,1339,73,3705.407,Asia
                Australia,22.4,81.2,2969.907,Australia
                UK,62,79.4,93.800,Europe
                Italy,60.3,80.5,116.346,Europe
                India,1184,64.7,1236.085,Asia
                Japan,127.4,82.6,145.920,Asia
                Iceland,0.3,81.8,40.000,Europe
                Portugal,10.6,78.1,35.560,Europe
                South Africa,50,49.3,471.445,Africa
                Egypt,78.9,71.3,387.000,Africa
                Sweden,9.3,80.9,170.410,Europe
        </script> 
        </div>
        </body>
</html>